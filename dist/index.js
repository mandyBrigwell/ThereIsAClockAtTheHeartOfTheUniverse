let screenSize,randomSeedValue=~~(12345*fxrand()),noiseSeedValue=~~(56789*fxrand());var mainGraphics,overlayGraphics,finishedRender,fullRes=2048,overlayGraphicsRotation=~~(4*fxrand()),overlayModeSquare=fxrand()*fxrand()>.4,offsetX=fxrand()*fullRes*.3-fxrand()*fullRes*.3,offsetY=fxrand()*fullRes*.3-fxrand()*fullRes*.3,dimWhileRendering=!0,maxFrames=128+~~(fxrand()*fxrand()*256),backgroundHue=(240+~~(fxrand()*fxrand()*360))%360,renderMode=~~(fxrand()*fxrand()*7),renderModeDescriptions=["short dark lines directed outward from the central focus, with the possible inclusion of white circles forming concentric striations towards the middle of the canvas","dark-outlined circles, filled with translucent white, fading both towards the edges of the canvas and as rendering progresses","delicately-outlined rectangles with a white fill, fading as rendering progresses","light circles, overlaid with a slightly-darker outline","coloured rectangles, with stroke increasing as rendering progresses","a crosshatch of delicate white and dark strokes, intersecting at the centre","slightly-rotated rectangles, with a directional stroke following the rotation of the render"],shortRenderModeDescriptions=["Short dark lines ","Dark-outlined circles","Delicately-outlined rectangles","Light circles","Coloured rectangles","A crosshatch of delicate strokes","A directional stroke"],showInfo=!0,showInfoInteracted=!1,rotationOffset=fxrand()*Math.PI*2,smallRotation=~~(32*fxrand()),renderQuotes=["…and in that moment, the new century was born.","Believe nothing that you hear…","…but there's nothing there, not even a beat.","Chaos gave way to a clockwork world…","First there was light, and then there was no-light…","For our clock does not tick seconds, but years…","For the first time in their lives there was no clock…","Gone is the ideal of a universe whose course follows strict rules…","He hoped he was waiting for nothing at all…","It was more than darkness…","Leaves that rustled, twigs that scraped…","Listen to the sound of the universe…","Our clocks do not measure time…","Repent, Harlequin…","Reticulating splines…","Sixteen candles burn in her mind…","The alternatives are clear…","The final result of the calculation lay before me…","The firmament was rent asunder…","The hours of Folly are measured by the clock…","The innocent, the innocent, Mandus…","The sinister, the terrible, never deceive…","The universe hides in light…","The world before your eyes is finite…","The world is a machine…","The wrong method with the wrong technique…","There is no time without change…","They are dancing in a room in which the clocks have no hands…","This is the great lesson…","Villains, dissemble no more!","We must go on, because we can't turn back…","Walls seemed to shift and advance…"],renderQuote=renderQuotes[~~(fxrand()*renderQuotes.length)],densityValues=[2,8,8,16,16,16,32,32,32,32,48,48,48,64,64,128],densityValue=densityValues[~~(fxrand()*densityValues.length)];densityValue<=8&&(maxFrames+=256),densityValue<=2&&0==renderMode&&(maxFrames+=256);var overlayKey=~~(fxrand()*fxrand()*maxFrames),darkMode=fxrand()*fxrand()>.5,renderInfo="\nRender mode for this instance is "+renderModeDescriptions[renderMode]+". Density is "+densityValue+" out of 128. Initial rotation is "+~~(100*rotationOffset)/100+" radians, with further increments of "+(1/smallRotation==~~(1/smallRotation)?" 1 radian ":"1/"+smallRotation+" of a radian")+" per iteration. The rendering process comprises "+maxFrames+" frames, with large-scale texture added every "+overlayKey+" frames over a background hue of "+backgroundHue+". The render is in "+(1==darkMode?"dark mode":"light mode")+" with a faint tracework of "+(1==overlayModeSquare?"squares":"circles")+" overlaid to add texture and depth. All graphical output is generated in code.";function setup(){pixelDensity(1),randomSeed(randomSeedValue),noiseSeed(noiseSeedValue),screenSize=min(windowWidth,windowHeight),createCanvas(screenSize,screenSize),colorMode(HSB,360),rectMode(CENTER),imageMode(CENTER),(mainGraphics=createGraphics(fullRes,fullRes)).colorMode(HSB,360),darkMode?mainGraphics.background(backgroundHue,60,180):mainGraphics.background(backgroundHue,60,345),(overlayGraphics=createGraphics(fullRes,fullRes)).colorMode(HSB,360),overlayGraphics.translate(overlayGraphics.width/2,overlayGraphics.height/2),overlayGraphics.rotate(overlayGraphicsRotation*PI/2),overlayGraphics.translate(-overlayGraphics.width/2,-overlayGraphics.height/2),(finishedRender=createGraphics(fullRes,fullRes)).colorMode(HSB,360),finishedRender.background(backgroundHue,60,345),finishedRender.colorMode(HSB,360),finishedRender.rectMode(CENTER),finishedRender.imageMode(CENTER)}function draw(){if(mainGraphics.resetMatrix(),mainGraphics.translate(mainGraphics.width/2,mainGraphics.height/2),mainGraphics.translate(offsetX,offsetY),1==frameCount&&(darkMode?overlayGraphics.fill(0,10):overlayGraphics.fill(360,30),overlayGraphics.noStroke(),overlayGraphics.quad(0,0,0,random(.2*fullRes,.8*fullRes),fullRes,random(.2*fullRes,.8*fullRes),fullRes,0)),frameCount<maxFrames){overlayGraphics.noFill(),overlayGraphics.strokeWeight(.5);for(var e=0;e<fullRes;e+=maxFrames/64){darkMode?overlayModeSquare?overlayGraphics.stroke(backgroundHue,30,30,30):overlayGraphics.stroke(backgroundHue,30,30,60):overlayModeSquare?overlayGraphics.stroke(backgroundHue,330,90,30):overlayGraphics.stroke(backgroundHue,330,90,45);var a=random(1)*random(1)*random(1)*e,r=.1*dist(a,0,0,0);overlayModeSquare?overlayGraphics.rect(random(1)*fullRes,fullRes-a,r,r):overlayGraphics.ellipse(random(1)*fullRes,fullRes-a,r,r)}for(e=.1;e<1.1;e+=.05){var i=map(frameCount/maxFrames,0,1,-TAU,TAU);mainGraphics.rotate(rotationOffset+i),frameCount%overlayKey==0&&(mainGraphics.noStroke(),mainGraphics.fill(360,map(e,.1,1.1,20,0)),mainGraphics.ellipse(0,map(frameCount,0,maxFrames,0,fullRes),map(overlayKey,0,maxFrames/2,0,fullRes),map(overlayKey,0,maxFrames/2,0,fullRes)),mainGraphics.fill(0,map(e,.1,1.1,5,0)),mainGraphics.ellipse(map(frameCount,0,maxFrames,0,fullRes),0,map(overlayKey,0,maxFrames/2,0,fullRes),map(overlayKey,0,maxFrames/2,0,fullRes)));for(var s=0;s<1;s+=e/densityValue){var n=map(s,0,1,0,TAU/n);mainGraphics.rotate(n);var t=map(e,.1,1.1,-8,8),o=map(s,0,1,0,fullRes);switch(mainGraphics.strokeWeight(.75*noise(.1*t,.1*o)),r=.025*(mainGraphics.width/2-dist(t,o,0,0)),renderMode){case 0:mainGraphics.stroke(0,map(frameCount,0,maxFrames,120,30)),mainGraphics.strokeWeight(.5*noise(10*t,o));var l=map(frameCount,0,maxFrames,1,1.1);mainGraphics.line(t,o,t*l,o*l),mainGraphics.noStroke(),noise(t,o)<.25&&(mainGraphics.fill(360,map(frameCount,0,maxFrames,0,180)),r=(fullRes/2-dist(t,o,offsetX,offsetY))/96,mainGraphics.ellipse(t,o,r,r)),noise(t,o)>.85&&(mainGraphics.fill(0,map(frameCount,0,maxFrames,4,0)),r=(fullRes/2-dist(t,o,offsetX,offsetY))/3,mainGraphics.ellipse(t,o,r,r));break;case 1:mainGraphics.stroke(0,map(frameCount,0,maxFrames,180,300)),mainGraphics.fill(360,map(frameCount,0,maxFrames,60,0)),mainGraphics.ellipse(t,o,r,r);break;case 2:mainGraphics.stroke(180,map(frameCount,0,maxFrames,180,90)),mainGraphics.fill(360,map(frameCount,0,maxFrames,360,0)),mainGraphics.rect(t,o,r,r),mainGraphics.noStroke(),noise(t/100,o/100)>.5&&(mainGraphics.fill(180,map(frameCount,0,maxFrames,60,0)),r=(fullRes/2-dist(t,o,offsetX,offsetY))/96,mainGraphics.ellipse(t,o,r,r));break;case 3:mainGraphics.stroke(90,map(frameCount,0,maxFrames,180,0)),mainGraphics.fill(360,map(frameCount,0,maxFrames,360,0)),mainGraphics.ellipse(t,o,r,r);break;case 4:mainGraphics.stroke(60,map(frameCount,0,maxFrames,180,300)),mainGraphics.fill(backgroundHue,360,360,map(frameCount,0,maxFrames,30,0)),mainGraphics.rect(t,o,r,r);break;case 5:mainGraphics.strokeWeight(map(frameCount,0,maxFrames,0,2)),noise(t/10,o/10)<.5?(mainGraphics.stroke(360,map(frameCount,0,maxFrames,20,90)),mainGraphics.line(t,o,t-r,o-r)):(mainGraphics.stroke(0,map(frameCount,0,maxFrames,180,20)),mainGraphics.line(t,o,t+r,o-r)),noise(o,t)<.5&&(mainGraphics.noFill(),mainGraphics.strokeWeight(.5),mainGraphics.fill(360,map(frameCount,0,maxFrames,10,0)),r=(fullRes/2-dist(t,o,0,0))/32,mainGraphics.ellipse(t,o,r,r));break;case 6:mainGraphics.fill(360,map(frameCount,0,maxFrames,16,8)),mainGraphics.noStroke(),mainGraphics.push(),mainGraphics.rotate(PI),mainGraphics.rect(t,o,r/2,r/2),mainGraphics.pop(),~~o%96==0?(mainGraphics.strokeWeight(map(frameCount,0,maxFrames,1,0)),mainGraphics.stroke(0,map(frameCount,0,maxFrames,90,0)),mainGraphics.line(t-r,o+r,t+r,o-r),mainGraphics.line(t+r,o-r,t-r,o-r)):(mainGraphics.strokeWeight(map(dist(o,o,0,0),0,fullRes,0,2)),mainGraphics.stroke(60,map(frameCount,0,maxFrames,30,0)),mainGraphics.noFill(),mainGraphics.rect(t,o,r,r))}}}}background(360),translate(screenSize/2,screenSize/2),noFill(),strokeWeight(max(screenSize/512,1)),stroke(0),rect(0,0,.975*screenSize,.975*screenSize),frameCount<maxFrames?(image(mainGraphics,0,0,.975*screenSize,.975*screenSize),image(overlayGraphics,0,0,.975*screenSize,.975*screenSize),dimWhileRendering&&(fill(backgroundHue,15,360,360*(1-frameCount/maxFrames)),rect(0,0,.975*screenSize,.975*screenSize)),stroke(180),strokeWeight(1),fill(0),textSize(screenSize/16),textAlign(CENTER,CENTER),textStyle(BOLD),text("Rendering",0,.06*-screenSize),textSize(screenSize/48),textStyle(ITALIC),text(renderQuote,0,screenSize/24,.75*screenSize),stroke(0),strokeWeight(screenSize/96),line(.4*-screenSize,0,.4*screenSize,0),stroke(300),line(.4*-screenSize,0,.4*-screenSize+frameCount/maxFrames*screenSize*.8,0)):frameCount==maxFrames?(finishedRender.background(360),finishedRender.translate(fullRes/2,fullRes/2),finishedRender.noFill(),finishedRender.strokeWeight(max(fullRes/512,1)),finishedRender.stroke(0),finishedRender.rect(0,0,.975*fullRes,.975*fullRes),finishedRender.image(mainGraphics,0,0,.975*fullRes,.975*fullRes),finishedRender.image(overlayGraphics,0,0,.975*fullRes,.975*fullRes),image(finishedRender,0,0,screenSize,screenSize),showInfoInteracted||(showInfo=!1)):image(finishedRender,0,0,screenSize,screenSize),showInfo&&(stroke(180),strokeWeight(1),fill(0),textSize(screenSize/64),textStyle(ITALIC),textAlign(CENTER,TOP),text(renderInfo+(frameCount<maxFrames?"\n\nPress [i] to show/hide.":""),0,.475*-screenSize,.9*screenSize))}function keyPressed(){"s"==key&&frameCount>=maxFrames&&save(finishedRender,"Output.png"),"i"==key&&(showInfo=!showInfo,showInfoInteracted=!0)}function windowResized(){-1==navigator.userAgent.indexOf("HeadlessChrome")&&(screenSize=min(windowWidth,windowHeight),resizeCanvas(screenSize,screenSize))}window.$fxhashFeatures={Background:1==darkMode?"Dark":"Light","Render Mode":shortRenderModeDescriptions[renderMode],Density:densityValue};